{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?dd95","webpack:///./src/components/Noteboard.vue?31b3","webpack:///./src/logic/DateUtils.js","webpack:///./src/models/Plan.js","webpack:///./src/components/widgets/CreateNoteboardDialog.vue?2bac","webpack:///./src/components/widgets/ComfirmationDialog.vue?2b1b","webpack:///src/components/widgets/ComfirmationDialog.vue","webpack:///./src/components/widgets/ComfirmationDialog.vue?4df7","webpack:///./src/components/widgets/ComfirmationDialog.vue","webpack:///src/components/widgets/CreateNoteboardDialog.vue","webpack:///./src/components/widgets/CreateNoteboardDialog.vue?2d27","webpack:///./src/components/widgets/CreateNoteboardDialog.vue","webpack:///./src/components/DaynoteEntry.vue?e374","webpack:///src/components/DaynoteEntry.vue","webpack:///./src/components/DaynoteEntry.vue?6b6a","webpack:///./src/components/DaynoteEntry.vue","webpack:///src/components/Noteboard.vue","webpack:///./src/components/Noteboard.vue?edad","webpack:///./src/components/Noteboard.vue?283b","webpack:///./src/components/Courselist.vue?b7f0","webpack:///./src/logic/CSVUtils.js","webpack:///src/components/Courselist.vue","webpack:///./src/components/Courselist.vue?57db","webpack:///./src/components/Courselist.vue","webpack:///./src/components/BookExport.vue?8518","webpack:///./src/logic/PDFUtils.js","webpack:///src/components/BookExport.vue","webpack:///./src/components/BookExport.vue?26a3","webpack:///./src/components/BookExport.vue","webpack:///./src/components/Steps.vue?361c","webpack:///src/components/Steps.vue","webpack:///./src/components/Steps.vue?e919","webpack:///./src/components/Steps.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/Noteboard.vue?2d0e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","step","pages","tag","allowedGrades","on","$event","staticRenderFns","hasData","dates","onNewBoardCreate","onBoardUpdate","onBoardDelete","$refs","import","click","slot","staticClass","_v","staticStyle","directives","rawName","expression","ref","onFileImport","onFileExport","_e","onNextClick","_l","_s","dateUtils","toGermanDateFormat","termBegin","termEnd","day","getDayUID","threshold","date","entries","args","onNoteUpdate","DateUtils","toWeekdayAndFullDate","toLocaleDateString","weekday","year","month","toNormalString","getFullYear","getMonth","getDate","isDateBetween","from","to","validateCourseDates","res","start","end","entry","trim","console","log","Date","getTime","end1","start2","Plan","term1Begin","term1End","term2Begin","term2End","Map","holidays","fromEntries","id","holidayStart","holidayEnd","Error","sort","a","b","json","obj","ins","forEach","v","setHoliday","scopedSlots","_u","fn","_g","_b","activatorColor","activatorTitle","dialogResult","title","fieldName","validationRules","model","callback","$$v","$set","style","visibility","isLast","onHolidayAdd","isLastHoliday","onHolidayDelete","onNoteboardChange","maxWidth","activatorText","_t","$emit","yesText","noText","props","default","type","String","required","methods","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","components","ComfirmationDialog","Boolean","initDates","Array","validate","pop","computed","watch","immediate","handler","JSON","parse","stringify","created","VCol","VContainer","VIcon","VRow","VSpacer","VTextField","grades","width","onNoteGradeChange","item","index","onNoteDelete","notes","onNoteCreate","initNotes","prevNotes","VChip","VSelect","VSubheader","VTextarea","DaynoteEntry","CreateNoteboardDialog","plan","navigator","msSaveOrOpenBlob","msSaveBlob","blob","filename","elem","href","URL","createObjectURL","download","display","document","body","appendChild","removeChild","np","e","updateStorage","setTerms","set","generateFullData","toJSON","fetchSavedBoard","localStorage","setItem","removeItem","terms","getDay","rtr","days","mounted","VLazy","VList","VListItem","VResponsive","VSkeletonLoader","headers","frontList","CSVUtils","toGradeLists","file","vm","onComplete","map","line","includes","class","teacher","subject","hour","has","grade","courses","cls","Number","parseInt","currentCourse","list","condensedList","onError","err","error","papaparse","complete","fetchList","sessionStorage","copy","join","VDataTable","progress","gradesToExport","onGradesChange","onGenerate","onRedownload","progressDisplay","exportCount","toExport","intervalName","blobStream","require","WIDTH","HEIGHT","_xPercentToPx","percent","_yPercentToPx","_getRows","course","getWeekNo","UTC","originYear","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","Math","ceil","hasCourseOn","h","_isDateBetween","getAllNotes","allNotes","note","content","compareGermanDateString","ac","split","bc","_getPointDateString","setDate","_toNormalString","_getHalfYear","_getTitleYear","_getTitle","substring","replace","X_MARGIN","X_CONTENT_WIDTH","X_MIDDLE","X_DAY_WIDTH","X_DATE_WIDTH","Y_MARGIN","Y_BOX_HEIGHT","Y_BOX_OFFSET","COLOR1","COLOR2","COLORS","BLACK","MAX_ROW","HEADER","HINWEIS","PDFUtils","onIncrement","onFinish","output","PDFDocument","autoFirstPage","size","stream","pipe","courseTerms","addPage","margin","row","warn","col","xInitial","xPointer","yPointer","font","fontSize","text","rect","fill","fillColor","height","align","Promise","setTimeout","toBlob","prevGrades","courselist","triggerDownload","objectURL","fetchData","VProgressLinear","VDivider","VStepper","VStepperHeader","VStepperStep","Noteboard","Steps","Courselist","BookExport","VApp","VMain","Vue","use","Vuetify","lang","locales","de","current","config","productionTip","vuetify","render","App","$mount"],"mappings":"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","file":"js/index.f63f53c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('v-container',[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('Steps',{attrs:{\"step\":_vm.step}})],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c(_vm.pages[_vm.step - 1],{tag:\"component\",attrs:{\"allowedGrades\":_vm.allowedGrades},on:{\"back\":function($event){_vm.step == 1 ? (_vm.step = 3) : _vm.step--},\"next\":function($event){_vm.step == 3 ? (_vm.step = 1) : _vm.step++}}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('create-noteboard-dialog',{attrs:{\"hasData\":_vm.hasData,\"initDates\":_vm.dates},on:{\"create\":_vm.onNewBoardCreate,\"update\":_vm.onBoardUpdate,\"delete\":_vm.onBoardDelete}}),(_vm.hasData)?_c('comfirmation-dialog',{attrs:{\"maxWidth\":\"500px\",\"yesText\":\"Ja, Ã„nderungen verwerfen\",\"activatorText\":\"Importieren\"},on:{\"accept\":function($event){return _vm.$refs.import.click()}}},[_c('template',{slot:\"content\"},[_c('v-card-text',{staticClass:\"black--text\"},[_vm._v(\"Wenn Sie einen anderen Bemerkungsbogen importieren, \"),_c('b',[_vm._v(\"verlieren Sie hier alle Daten\")]),_vm._v(\", die Sie nicht gespeichert/exportiert haben. \")]),_c('v-card-text',{staticClass:\"black--text\",staticStyle:{\"margin-top\":\"-10px\"}},[_vm._v(\" Sind Sie sicher? \")])],1)],2):_c('v-btn',{staticClass:\"mr-6\",on:{\"click\":function($event){return _vm.$refs.import.click()}}},[_vm._v(\"Importieren\")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"import\",attrs:{\"id\":\"noteboard-file\",\"type\":\"file\"},on:{\"change\":_vm.onFileImport}}),(_vm.hasData)?_c('v-btn',{on:{\"click\":_vm.onFileExport}},[_vm._v(\"Exportieren\")]):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.hasData},on:{\"click\":_vm.onNextClick}},[_vm._v(\"Weiter\")])],1),(!_vm.hasData)?_c('v-row',{staticClass:\"mt-10\",attrs:{\"justify\":\"space-between\"}},[_vm._l((2),function(i){return _c('v-col',{key:i,attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-subheader',{staticClass:\"text-h5 font-weiht-bold\"},[_vm._v(\" \"+_vm._s(i)+\". Abschnitt \")]),_c('v-skeleton-loader',{staticClass:\"mx-4 mb-3\",staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"text\",\"boilerplate\":\"\"}}),_c('v-skeleton-loader',{staticClass:\"mx-4 gradient-out\",attrs:{\"type\":\"image\",\"boilerplate\":\"\"}})],1)}),_c('v-col',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"-100px\"},attrs:{\"cols\":\"12\"}},[_c('span',{staticClass:\"text-h5 grey--text font-weight-black text--darken-2\"},[_vm._v(\"Bemerkungsbogen neu erstellen oder von einer Datei importieren\")])])],2):_c('v-row',{staticClass:\"mt-10\",attrs:{\"justify\":\"space-between\"}},_vm._l((_vm.terms),function(data,i){return _c('v-col',{key:i,attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-list',[_c('v-subheader',{staticClass:\"text-h5 font-weight-bold black--text\"},[_vm._v(\" \"+_vm._s(i + 1)+\". Abschnitt \")]),_c('v-subheader',{staticStyle:{\"margin-top\":\"-15px\"}},[_vm._v(_vm._s(_vm.dateUtils.toGermanDateFormat(data.termBegin))+\" - \"+_vm._s(_vm.dateUtils.toGermanDateFormat(data.termEnd)))]),_vm._l((data.days),function(day){return _c('v-responsive',{key:_vm.getDayUID(day),staticClass:\"fill-height\",attrs:{\"min-height\":\"100\",\"color\":\"transparent\"}},[_c('v-lazy',{attrs:{\"options\":{\n              threshold: 0.5,\n            },\"transition\":\"fade-transition\"}},[_c('v-list-item',{attrs:{\"fluid\":\"\"}},[_c('daynote-entry',{staticStyle:{\"width\":\"100%\"},attrs:{\"date\":day.date,\"initNotes\":day.entries,\"allowedGrades\":_vm.allowedGrades},on:{\"update\":function (args) { return _vm.onNoteUpdate(day.date, args); }}})],1)],1)],1)})],2)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let DateUtils = {\n  toWeekdayAndFullDate(date) {\n    return date.toLocaleDateString(\"de-de\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"2-digit\",\n    });\n  },\n\n  toGermanDateFormat(date) {\n    return date.toLocaleDateString(\"de-de\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"2-digit\",\n    });\n  },\n\n  toNormalString(date) {\n    return `${date.getFullYear()}-${date.getMonth() < 9 ? \"0\" : \"\"}${date.getMonth() + 1}-${date.getDate() < 10 ? \"0\" : \"\"}${date.getDate()}`\n  },\n\n  isDateBetween(date, from, to) {\n    return date.getFullYear() >= from.getFullYear() &&\n      date.getMonth() >= from.getMonth() && date.getDate() >= from.getDate() &&\n      date.getFullYear() <= to.getFullYear() && date.getMonth() <= to.getMonth() &&\n      date.getDate() <= to.getDate();\n  },\n\n  validateCourseDates(dates) {\n    let res = [];\n    for (let i = 0; i < dates.length; i++) {\n      res.push({ start: true, end: true });\n    }\n\n    // rule 1: all dates must be filled\n    for (let i = 0; i < dates.length; i++) {\n      const entry = dates[i];\n      if (!entry.start || !entry.start.trim())\n        res[i].start = \"erforderlich\";\n      if (!entry.end || !entry.end.trim()) {\n        res[i].end = \"erforderlich\";\n        console.log(i);\n      }\n    }\n\n    // rule 2: end dates must be later than start dates\n    for (let i = 0; i < dates.length; i++) {\n      const entry = dates[i];\n      const start = new Date(entry.start);\n      const end = new Date(entry.end);\n      if (start.getTime() >= end.getTime()) {\n        if (res[i].start === true)\n          res[i].start = \"\";\n        res[i].end = \"ungÃ¼ltiges Datum (zu klein)\";\n      }\n    }\n\n    // rule 3: 2. date range must be later than 1. date range for the terms\n    const end1 = new Date(dates[0].end);\n    const start2 = new Date(dates[1].start);\n    if (end1.getTime() >= start2.getTime()) {\n      if (res[0].end === true)\n        res[0].end = \"\";\n      res[1].start = \"ungÃ¼ltiges Datum (zu klein)\";\n    }\n\n    return res;\n  }\n}\n\nexport default DateUtils;\n","\nclass Plan {\n  constructor(term1Begin, term1End, term2Begin, term2End) {\n    this.term1Begin = term1Begin;\n    this.term1End = term1End;\n    this.term2Begin = term2Begin;\n    this.term2End = term2End;\n\n    // date (as string yyyymmdd) -> Array<Entry>\n    this.entries = new Map();\n    // [[holidayStart: Date, holidayEnd: Date]]\n    this.holidays = [];\n  }\n\n  static fromJSON(json) {\n    const obj = json;\n    if (!(obj && obj.term1Begin && obj.term1End && obj.term2Begin &&\n      obj.term2End && obj.holidays && obj.entries))\n      throw new Error(\"Plan.fromJSON: invalid json\" + json);\n\n    let ins = new Plan(new Date(obj.term1Begin), new Date(obj.term1End),\n      new Date(obj.term2Begin), new Date(obj.term2End));\n\n    obj.holidays.forEach(v =>\n      ins.setHoliday(-1, new Date(v[0]), new Date(v[1])));\n\n    ins.entries = new Map(Object.entries(json.entries));\n    return ins;\n  }\n\n  toJSON() {\n    return {\n      term1Begin: this.term1Begin,\n      term1End: this.term1End,\n      term2Begin: this.term2Begin,\n      term2End: this.term2End,\n\n      holidays: this.holidays,\n      entries: Object.fromEntries(this.entries)\n    }\n  }\n\n  setHoliday(id, holidayStart, holidayEnd) {\n    if (this.holidays.length <= id)\n      throw new Error(\"Plan.setHoliday: invalid id\");\n\n    if (id < 0) this.holidays.push([holidayStart, holidayEnd]);\n    else this.holidays[id] = [holidayStart, holidayEnd];\n\n    // now sort all holidays\n    this.holidays.sort((a, b) => a[0] - b[0]);\n  }\n\n  removeHoliday(id) {\n    this.holidays.splice(id, 1);\n  }\n\n  setTerms(term1Begin, term1End, term2Begin, term2End) {\n    this.term1Begin = term1Begin;\n    this.term1End = term1End;\n    this.term2Begin = term2Begin;\n    this.term2End = term2End;\n  }\n}\n\n// {grades:[],content:\"\"}\n\nexport { Plan };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"750px\",\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-6\",attrs:{\"color\":_vm.activatorColor}},'v-btn',attrs,false),on),[_vm._v(_vm._s(_vm.activatorTitle))])]}},{key:\"default\",fn:function(dialogResult){return [_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),_c('v-container',{staticClass:\"pl-8 mt-7 mb-2\",attrs:{\"fluid\":\"\"}},_vm._l((_vm.dates),function(data,i){return _c('v-row',{key:i,staticClass:\"pb-5 px-6\",attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"pa-0 pb-6\",attrs:{\"cols\":\"3\"}},[_c('span',[_vm._v(_vm._s(_vm.fieldName(i)))])]),_c('v-row',{staticClass:\"pa-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"5\"}},[_c('v-text-field',{attrs:{\"type\":\"date\",\"locale\":\"de\",\"placeholder\":\"dd.mm.yyyy\",\"label\":\"Von\",\"rules\":[_vm.validationRules[i].start],\"error\":_vm.validationRules[i].start !== true,\"outlined\":\"\",\"dense\":\"\"},model:{value:(data.start),callback:function ($$v) {_vm.$set(data, \"start\", $$v)},expression:\"data.start\"}})],1),_c('v-spacer'),_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"5\"}},[_c('v-text-field',{attrs:{\"type\":\"date\",\"locale\":\"de\",\"placeholder\":\"dd.mm.yyyy\",\"label\":\"Bis\",\"rules\":[_vm.validationRules[i].end],\"error\":_vm.validationRules[i].end !== true,\"outlined\":\"\",\"dense\":\"\"},model:{value:(data.end),callback:function ($$v) {_vm.$set(data, \"end\", $$v)},expression:\"data.end\"}})],1),_c('v-col',{staticStyle:{\"margin\":\"-22pt 0 0 -5pt\"},style:({\n                visibility: _vm.isLast(i) ? 'visible' : 'hidden',\n              }),attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.onHolidayAdd}},[_c('v-icon',[_vm._v(\"mdi-plus-circle\")])],1)],1),_c('v-col',{staticStyle:{\"margin\":\"-22pt 0 0 -10pt\"},style:({\n                visibility: _vm.isLastHoliday(i) ? 'visible' : 'hidden',\n              }),attrs:{\"cols\":\"1\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.onHolidayDelete}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1)],1)],1)}),1),_c('v-card-actions',{staticClass:\"pr-6 pl-10 pb-6 pt-4\"},[(_vm.hasData)?_c('comfirmation-dialog',{attrs:{\"activatorText\":\"Bemerkungsbogen lÃ¶schen\",\"activatorColor\":\"error\",\"yesText\":\"Ja, den Bogen unwiderruflich lÃ¶schen\"},on:{\"accept\":function($event){return _vm.onBoardDelete(dialogResult)}}},[_c('template',{slot:\"content\"},[_c('v-card-text',[_vm._v(\"Wollen Sie den Bemerkungsbogen wirklich lÃ¶schen?\"),_c('b',[_vm._v(\" Das kann nicht rÃ¼ckgÃ¤ngig gamacht werden.\")])])],1)],2):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.onNoteboardChange(dialogResult)}}},[_vm._v(\"BestÃ¤tigen\")]),_c('div',{staticClass:\"px-2\"}),_c('v-btn',{on:{\"click\":function($event){dialogResult.value = false}}},[_vm._v(\"Abbrechen\")])],1)],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":_vm.maxWidth},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-6\",attrs:{\"color\":_vm.activatorColor}},'v-btn',attrs,false),on),[_vm._v(_vm._s(_vm.activatorText))])]}},{key:\"default\",fn:function(dialogResult){return [_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),_vm._t(\"content\",function(){return [_c('v-card-text',{staticClass:\"black--text\"},[_vm._v(\"Sind Sie sicher\")])]}),_c('v-card-actions',{staticClass:\"pb-4\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"error\"},on:{\"click\":function($event){_vm.$emit('accept');\n            dialogResult.value = false;}}},[_vm._v(_vm._s(_vm.yesText))]),_c('v-btn',{on:{\"click\":function($event){_vm.$emit('reject');\n            dialogResult.value = false;}}},[_vm._v(_vm._s(_vm.noText))])],1)],2)]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <v-dialog :max-width=\"maxWidth\">\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn class=\"mr-6\" v-on=\"on\" v-bind=\"attrs\" :color=\"activatorColor\">{{\n        activatorText\n      }}</v-btn>\n    </template>\n    <template v-slot:default=\"dialogResult\">\n      <v-card>\n        <v-card-title>{{ title }}</v-card-title>\n        <slot name=\"content\"\n          ><v-card-text class=\"black--text\">Sind Sie sicher</v-card-text></slot\n        >\n        <v-card-actions class=\"pb-4\"\n          ><v-btn\n            @click=\"\n              $emit('accept');\n              dialogResult.value = false;\n            \"\n            class=\"mr-3\"\n            color=\"error\"\n            >{{ yesText }}</v-btn\n          ><v-btn\n            @click=\"\n              $emit('reject');\n              dialogResult.value = false;\n            \"\n            >{{ noText }}</v-btn\n          ></v-card-actions\n        >\n      </v-card>\n    </template>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"ComfirmationDialog\",\n  props: {\n    maxWidth: {\n      default: \"500px\",\n      type: String,\n    },\n    title: {\n      default: \"Warnung\",\n      type: String,\n    },\n    yesText: {\n      default: \"Ja\",\n      type: String,\n    },\n    noText: {\n      default: \"Nein\",\n      type: String,\n    },\n    activatorText: {\n      required: true,\n      type: String,\n    },\n    activatorColor: {\n      default: \"\",\n      type: String,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {},\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComfirmationDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComfirmationDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComfirmationDialog.vue?vue&type=template&id=4ba089d1&\"\nimport script from \"./ComfirmationDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ComfirmationDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog})\n","<template>\n  <v-dialog max-width=\"750px\" persistent>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn class=\"mr-6\" :color=\"activatorColor\" v-on=\"on\" v-bind=\"attrs\">{{\n        activatorTitle\n      }}</v-btn>\n    </template>\n    <template v-slot:default=\"dialogResult\">\n      <v-card>\n        <v-card-title>{{ title }}</v-card-title>\n        <v-container class=\"pl-8 mt-7 mb-2\" fluid>\n          <v-row\n            class=\"pb-5 px-6\"\n            align=\"center\"\n            v-for=\"(data, i) in dates\"\n            :key=\"i\"\n          >\n            <v-col cols=\"3\" class=\"pa-0 pb-6\">\n              <span>{{ fieldName(i) }}</span>\n            </v-col>\n            <v-row class=\"pa-0\" align=\"center\" justify=\"center\">\n              <v-col cols=\"5\" class=\"pa-0\">\n                <v-text-field\n                  type=\"date\"\n                  locale=\"de\"\n                  placeholder=\"dd.mm.yyyy\"\n                  label=\"Von\"\n                  v-model=\"data.start\"\n                  :rules=\"[validationRules[i].start]\"\n                  :error=\"validationRules[i].start !== true\"\n                  outlined\n                  dense\n                >\n                </v-text-field>\n              </v-col>\n              <v-spacer></v-spacer>\n              <v-col cols=\"5\" class=\"pa-0\">\n                <v-text-field\n                  type=\"date\"\n                  locale=\"de\"\n                  placeholder=\"dd.mm.yyyy\"\n                  label=\"Bis\"\n                  v-model=\"data.end\"\n                  :rules=\"[validationRules[i].end]\"\n                  :error=\"validationRules[i].end !== true\"\n                  outlined\n                  dense\n                >\n                </v-text-field>\n              </v-col>\n              <v-col\n                cols=\"1\"\n                style=\"margin: -22pt 0 0 -5pt\"\n                :style=\"{\n                  visibility: isLast(i) ? 'visible' : 'hidden',\n                }\"\n                ><v-btn icon @click=\"onHolidayAdd\">\n                  <v-icon>mdi-plus-circle</v-icon></v-btn\n                ></v-col\n              >\n              <v-col\n                cols=\"1\"\n                style=\"margin: -22pt 0 0 -10pt\"\n                :style=\"{\n                  visibility: isLastHoliday(i) ? 'visible' : 'hidden',\n                }\"\n                ><v-btn icon @click=\"onHolidayDelete\">\n                  <v-icon>mdi-delete</v-icon></v-btn\n                ></v-col\n              >\n            </v-row>\n          </v-row>\n        </v-container>\n        <v-card-actions class=\"pr-6 pl-10 pb-6 pt-4\">\n          <comfirmation-dialog\n            v-if=\"hasData\"\n            activatorText=\"Bemerkungsbogen lÃ¶schen\"\n            activatorColor=\"error\"\n            yesText=\"Ja, den Bogen unwiderruflich lÃ¶schen\"\n            @accept=\"onBoardDelete(dialogResult)\"\n          >\n            <template slot=\"content\">\n              <v-card-text\n                >Wollen Sie den Bemerkungsbogen wirklich lÃ¶schen?<b>\n                  Das kann nicht rÃ¼ckgÃ¤ngig gamacht werden.</b\n                >\n              </v-card-text></template\n            ></comfirmation-dialog\n          >\n          <v-spacer></v-spacer\n          ><v-btn color=\"primary\" @click=\"onNoteboardChange(dialogResult)\"\n            >BestÃ¤tigen</v-btn\n          >\n          <div class=\"px-2\"></div>\n          <v-btn @click=\"dialogResult.value = false\">Abbrechen</v-btn>\n        </v-card-actions>\n      </v-card>\n    </template>\n  </v-dialog>\n</template>\n\n<script>\nimport DateUtils from \"@/logic/DateUtils.js\";\n\nimport ComfirmationDialog from \"./ComfirmationDialog.vue\";\n\nexport default {\n  name: \"CreateNoteboardDialog\",\n  components: {\n    ComfirmationDialog,\n  },\n  props: {\n    hasData: {\n      required: true,\n      type: Boolean,\n    },\n    initDates: {\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      dates: [],\n      validationRules: [],\n    };\n  },\n  methods: {\n    onNoteboardChange(dialogResult) {\n      if (this.validate()) {\n        if (this.hasData) this.$emit(\"update\", this.dates);\n        else this.$emit(\"create\", this.dates);\n        dialogResult.value = false;\n      }\n    },\n    validate() {\n      let res = DateUtils.validateCourseDates(this.dates);\n      for (let i = 0; i < res.length; i++) {\n        const entry = res[i];\n        this.$set(this.validationRules, i, entry);\n      }\n\n      for (let i = 0; i < res.length; i++) {\n        const entry = res[i];\n        if (entry.start !== true || entry.end !== true) return false;\n      }\n      return true;\n    },\n    onBoardDelete(dialogResult) {\n      this.$emit(\"delete\");\n      dialogResult.value = false;\n    },\n    onHolidayDelete() {\n      this.dates.pop();\n      this.validationRules.pop();\n    },\n    onHolidayAdd() {\n      this.dates.push({ start: \"\", end: \"\" });\n      this.validationRules.push({ start: true, end: true });\n    },\n    fieldName(i) {\n      if (i < 2) return `${i + 1}. Abschnitt`;\n      else return `${i - 1}. Ferienphase`;\n    },\n    isLast(i) {\n      return i + 1 == this.dates.length;\n    },\n    isLastHoliday(i) {\n      return this.isLast(i) && i > 1;\n    },\n  },\n  computed: {\n    title() {\n      return this.hasData\n        ? \"Bemerkungsbogen bearbeiten\"\n        : \"Neuer Bemerkungsbogen\";\n    },\n    activatorTitle() {\n      return this.hasData ? \"Bearbeiten\" : \"Neu\";\n    },\n    activatorColor() {\n      return this.hasData ? \"\" : \"primary\";\n    },\n  },\n  watch: {\n    initDates: {\n      immediate: true,\n      handler() {\n        if (this.initDates) {\n          this.dates = JSON.parse(JSON.stringify(this.initDates));\n          for (let i = 0; this.dates && i < this.dates.length; i++)\n            this.validationRules.push({ start: true, end: true });\n        }\n      },\n    },\n  },\n  created() {\n    if (this.hasData) this.dates = JSON.parse(JSON.stringify(this.initDates));\n    else\n      this.dates = [\n        { start: \"\", end: \"\" },\n        { start: \"\", end: \"\" },\n        { start: \"\", end: \"\" },\n      ];\n\n    for (let i = 0; i < this.dates.length; i++)\n      this.validationRules.push({ start: true, end: true });\n  },\n};\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateNoteboardDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateNoteboardDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateNoteboardDialog.vue?vue&type=template&id=0d70a7fd&\"\nimport script from \"./CreateNoteboardDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateNoteboardDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VIcon,VRow,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mb-2\"},[_c('v-subheader',[_vm._v(_vm._s(_vm.dateUtils.toWeekdayAndFullDate(_vm.date)))]),_vm._l((_vm.notes),function(data,i){return _c('v-row',{key:i,staticClass:\"pa-4\"},[_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"8\"}},[_c('v-select',{staticClass:\"pa-0\",style:([\n          data.grades.length > 1 ? { width: '160px' } : { width: '70pt' } ]),attrs:{\"items\":_vm.allowedGrades,\"multiple\":\"\",\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.onNoteGradeChange(i, data)}},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\n        var item = ref.item;\n        var index = ref.index;\nreturn [(index < 2)?_c('v-chip',{staticStyle:{\"height\":\"30px\"}},[_c('span',[_vm._v(_vm._s(item))])]):_vm._e(),(index == 2)?_c('span',{staticClass:\"text-caption grey--text pl-2\"},[_vm._v(\"+\"+_vm._s(data.grades.length - 2))]):_vm._e()]}}],null,true),model:{value:(data.grades),callback:function ($$v) {_vm.$set(data, \"grades\", $$v)},expression:\"data.grades\"}})],1),_c('v-spacer'),_c('v-col',{staticClass:\"text-right pa-0\",attrs:{\"cols\":\"3\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.onNoteDelete(i)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"rows\":\"1\",\"placeholder\":\"Notiz\",\"auto-grow\":\"\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.$emit('update', _vm.notes)}},model:{value:(data.content),callback:function ($$v) {_vm.$set(data, \"content\", $$v)},expression:\"data.content\"}})],1)],1)}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onNoteCreate}},[_vm._v(\"Neuer Eintrag\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"mb-2\">\n    <v-subheader>{{ dateUtils.toWeekdayAndFullDate(date) }}</v-subheader>\n    <v-row v-for=\"(data, i) in notes\" :key=\"i\" class=\"pa-4\">\n      <v-col cols=\"8\" class=\"py-0\">\n        <v-select\n          v-model=\"data.grades\"\n          :items=\"allowedGrades\"\n          @change=\"onNoteGradeChange(i, data)\"\n          :style=\"[\n            data.grades.length > 1 ? { width: '160px' } : { width: '70pt' },\n          ]\"\n          class=\"pa-0\"\n          multiple\n          hide-details\n        >\n          <template v-slot:selection=\"{ item, index }\">\n            <v-chip v-if=\"index < 2\" style=\"height: 30px\"\n              ><span>{{ item }}</span></v-chip\n            >\n            <span v-if=\"index == 2\" class=\"text-caption grey--text pl-2\"\n              >+{{ data.grades.length - 2 }}</span\n            >\n          </template>\n        </v-select>\n      </v-col>\n      <v-spacer></v-spacer>\n      <v-col cols=\"3\" class=\"text-right pa-0\">\n        <v-btn icon @click=\"onNoteDelete(i)\">\n          <v-icon>mdi-delete</v-icon></v-btn\n        >\n      </v-col>\n\n      <v-col cols=\"12\" class=\"py-0\">\n        <v-textarea\n          rows=\"1\"\n          placeholder=\"Notiz\"\n          v-model=\"data.content\"\n          @input=\"$emit('update', notes)\"\n          auto-grow\n          hide-details\n        ></v-textarea\n      ></v-col>\n    </v-row>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn text @click=\"onNoteCreate\">Neuer Eintrag</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport DateUtils from \"@/logic/DateUtils.js\";\n\nexport default {\n  name: \"DaynoteEntry\",\n  props: {\n    date: Date,\n    initNotes: [],\n    allowedGrades: {\n      default() {\n        return [\"Alle\", \"EF\", \"Q1\", \"Q2\"];\n      },\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      dateUtils: DateUtils,\n      prevNotes: [],\n      notes: [],\n    };\n  },\n  methods: {\n    onNoteGradeChange(i, note) {\n      if (\n        !this.prevNotes[i].grades.includes(\"Alle\") &&\n        note.grades.includes(\"Alle\")\n      )\n        note.grades = [\"Alle\"];\n      else if (\n        this.prevNotes[i].grades.includes(\"Alle\") &&\n        note.grades.length > 0\n      )\n        note.grades = note.grades.filter((g) => g != \"Alle\");\n\n      this.$emit(\"update\", this.notes);\n      this.prevNotes = JSON.parse(JSON.stringify(this.notes));\n    },\n    onNoteCreate() {\n      this.notes.push({ grades: [\"Alle\"], content: \"\" });\n      this.$emit(\"update\", this.notes);\n      this.prevNotes = JSON.parse(JSON.stringify(this.notes));\n    },\n    onNoteDelete(i) {\n      this.notes.splice(i, 1);\n      this.$emit(\"update\", this.notes);\n      this.prevNotes = JSON.parse(JSON.stringify(this.notes));\n    },\n  },\n  created() {\n    this.notes = this.initNotes;\n    this.prevNotes = JSON.parse(JSON.stringify(this.notes));\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DaynoteEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DaynoteEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DaynoteEntry.vue?vue&type=template&id=755215a6&\"\nimport script from \"./DaynoteEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./DaynoteEntry.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VChip,VCol,VIcon,VRow,VSelect,VSpacer,VSubheader,VTextarea})\n","<template>\n  <v-container>\n    <v-row>\n      <!-- Create and edit the board -->\n      <create-noteboard-dialog\n        :hasData=\"hasData\"\n        :initDates=\"dates\"\n        @create=\"onNewBoardCreate\"\n        @update=\"onBoardUpdate\"\n        @delete=\"onBoardDelete\"\n      />\n\n      <!-- Import new board -->\n      <comfirmation-dialog\n        v-if=\"hasData\"\n        maxWidth=\"500px\"\n        yesText=\"Ja, Ã„nderungen verwerfen\"\n        activatorText=\"Importieren\"\n        @accept=\"$refs.import.click()\"\n        ><template slot=\"content\">\n          <v-card-text class=\"black--text\"\n            >Wenn Sie einen anderen Bemerkungsbogen importieren,\n            <b>verlieren Sie hier alle Daten</b>, die Sie nicht\n            gespeichert/exportiert haben.\n          </v-card-text>\n          <v-card-text class=\"black--text\" style=\"margin-top: -10px\">\n            Sind Sie sicher?\n          </v-card-text>\n        </template></comfirmation-dialog\n      >\n      <v-btn class=\"mr-6\" @click=\"$refs.import.click()\" v-else\n        >Importieren</v-btn\n      >\n      <input\n        id=\"noteboard-file\"\n        v-show=\"false\"\n        ref=\"import\"\n        type=\"file\"\n        @change=\"onFileImport\"\n      />\n\n      <!-- Export the board -->\n      <v-btn @click=\"onFileExport\" v-if=\"hasData\">Exportieren</v-btn>\n      <v-spacer></v-spacer>\n\n      <!-- To next step -->\n      <v-btn color=\"primary\" :disabled=\"!hasData\" @click=\"onNextClick\"\n        >Weiter</v-btn\n      >\n    </v-row>\n\n    <!-- when no data: skeleton -->\n    <v-row justify=\"space-between\" class=\"mt-10\" v-if=\"!hasData\">\n      <v-col cols=\"12\" sm=\"6\" v-for=\"i in 2\" :key=\"i\">\n        <v-subheader class=\"text-h5 font-weiht-bold\">\n          {{ i }}. Abschnitt\n        </v-subheader>\n        <v-skeleton-loader\n          class=\"mx-4 mb-3\"\n          type=\"text\"\n          style=\"width: 250px\"\n          boilerplate\n        ></v-skeleton-loader>\n        <v-skeleton-loader\n          class=\"mx-4 gradient-out\"\n          type=\"image\"\n          boilerplate\n        ></v-skeleton-loader>\n      </v-col>\n      <v-col cols=\"12\" class=\"text-center\" style=\"margin-top: -100px\"\n        ><span class=\"text-h5 grey--text font-weight-black text--darken-2\"\n          >Bemerkungsbogen neu erstellen oder von einer Datei importieren</span\n        ></v-col\n      >\n    </v-row>\n\n    <!-- Otherwise, show the data view -->\n    <v-row justify=\"space-between\" class=\"mt-10\" v-else>\n      <v-col cols=\"12\" sm=\"6\" v-for=\"(data, i) in terms\" :key=\"i\">\n        <v-list>\n          <v-subheader class=\"text-h5 font-weight-bold black--text\">\n            {{ i + 1 }}. Abschnitt\n          </v-subheader>\n          <v-subheader style=\"margin-top: -15px\"\n            >{{ dateUtils.toGermanDateFormat(data.termBegin) }} -\n            {{ dateUtils.toGermanDateFormat(data.termEnd) }}</v-subheader\n          >\n          <v-responsive\n            min-height=\"100\"\n            class=\"fill-height\"\n            color=\"transparent\"\n            v-for=\"day in data.days\"\n            :key=\"getDayUID(day)\"\n          >\n            <v-lazy\n              :options=\"{\n                threshold: 0.5,\n              }\"\n              transition=\"fade-transition\"\n            >\n              <v-list-item fluid>\n                <daynote-entry\n                  :date=\"day.date\"\n                  :initNotes=\"day.entries\"\n                  :allowedGrades=\"allowedGrades\"\n                  @update=\"(args) => onNoteUpdate(day.date, args)\"\n                  style=\"width: 100%\"\n                />\n              </v-list-item>\n            </v-lazy>\n          </v-responsive>\n        </v-list>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport DateUtils from \"@/logic/DateUtils.js\";\nimport { Plan } from \"@/models/Plan\";\n\nimport CreateNoteboardDialog from \"./widgets/CreateNoteboardDialog.vue\";\nimport ComfirmationDialog from \"./widgets/ComfirmationDialog.vue\";\nimport DaynoteEntry from \"./DaynoteEntry.vue\";\n\nexport default {\n  name: \"Noteboard\",\n  components: {\n    DaynoteEntry,\n    CreateNoteboardDialog,\n    ComfirmationDialog,\n  },\n  props: {\n    allowedGrades: {\n      default() {\n        return [\"Alle\", \"EF\", \"Q1\", \"Q2\"];\n      },\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      dateUtils: DateUtils,\n      hasData: false,\n\n      plan: null,\n    };\n  },\n  methods: {\n    async onFileImport() {\n      let file = this.$refs.import.files[0];\n      if (file) {\n        const fileText = await file.text();\n        const data = JSON.parse(fileText);\n\n        // DEBUG: does it work?\n        this.plan = Plan.fromJSON(data);\n\n        this.hasData = true;\n\n        this.updateStorage();\n      }\n      // must play with dom to remove the pending file\n      document.getElementById(\"noteboard-file\").value = \"\";\n    },\n    onFileExport() {\n      const data = JSON.stringify(this.generateFullData());\n      const filename = `Bemerkungsbogen-${\n        this.plan.term1Begin.getYear() + 1900\n      }-${this.plan.term1Begin.getMonth() + 1}`;\n      const blob = new Blob([data], { type: \"application/json\" });\n      if (window.navigator.msSaveOrOpenBlob) {\n        window.navigator.msSaveBlob(blob, filename);\n      } else {\n        const elem = window.document.createElement(\"a\");\n        elem.href = window.URL.createObjectURL(blob, { oneTimeOnly: true });\n        elem.download = filename;\n        elem.style.display = \"none\";\n        document.body.appendChild(elem);\n        elem.click();\n        document.body.removeChild(elem);\n      }\n    },\n    onNewBoardCreate(dates) {\n      const np = new Plan(\n        new Date(dates[0].start),\n        new Date(dates[0].end),\n        new Date(dates[1].start),\n        new Date(dates[1].end)\n      );\n\n      for (let i = 2; i < dates.length; i++) {\n        const e = dates[i];\n        np.setHoliday(-1, new Date(e.start), new Date(e.end));\n      }\n\n      this.plan = np;\n      this.hasData = true;\n      this.updateStorage();\n    },\n    onBoardUpdate(dates) {\n      this.plan.setTerms(\n        new Date(dates[0].start),\n        new Date(dates[0].end),\n        new Date(dates[1].start),\n        new Date(dates[1].end)\n      );\n\n      this.plan.holidays = [];\n      for (let i = 2; i < dates.length; i++) {\n        const e = dates[i];\n        this.plan.setHoliday(-1, new Date(e.start), new Date(e.end));\n      }\n\n      this.plan = Plan.fromJSON(JSON.parse(JSON.stringify(this.plan.toJSON())));\n\n      this.updateStorage();\n    },\n    onBoardDelete() {\n      this.hasData = false;\n      this.plan = null;\n      this.updateStorage();\n    },\n    onNoteUpdate(date, notes) {\n      this.plan.entries.set(DateUtils.toNormalString(date), notes);\n      this.updateStorage();\n    },\n    onNextClick() {\n      this.$emit(\"next\");\n    },\n    generateFullData() {\n      return this.plan.toJSON();\n    },\n    fetchSavedBoard() {\n      this.hasData = false;\n      const hasData = localStorage.getItem(\"kht.noteboard.hasData\");\n      if (hasData !== \"true\") {\n        return false;\n      }\n\n      const res = localStorage.getItem(\"kht.noteboard\");\n      if (res !== null) {\n        const data = JSON.parse(res);\n        this.plan = Plan.fromJSON(data);\n        this.hasData = true;\n        return true;\n      } else return false;\n    },\n    updateStorage() {\n      localStorage.setItem(\"kht.noteboard.hasData\", this.hasData);\n      if (!this.hasData) {\n        localStorage.removeItem(\"kht.noteboard\");\n        return;\n      }\n      localStorage.setItem(\n        \"kht.noteboard\",\n        JSON.stringify(this.generateFullData())\n      );\n    },\n    getDayUID(day) {\n      return `${DateUtils.toNormalString(day.date)}_${day.entries.map(e => e.content).join(\"-\")}`;\n    }\n  },\n  computed: {\n    dates() {\n      if (!this.plan) return null;\n\n      const res = [\n        {\n          start: DateUtils.toNormalString(this.plan.term1Begin),\n          end: DateUtils.toNormalString(this.plan.term1End),\n        },\n        {\n          start: DateUtils.toNormalString(this.plan.term2Begin),\n          end: DateUtils.toNormalString(this.plan.term2End),\n        },\n      ];\n\n      for (let i = 0; i < this.plan.holidays.length; i++) {\n        const e = this.plan.holidays[i];\n        res.push({\n          start: DateUtils.toNormalString(e[0]),\n          end: DateUtils.toNormalString(e[1]),\n        });\n      }\n      return res;\n    },\n    terms() {\n      if (!this.hasData || !this.plan) return [];\n\n      const rtr = [\n        {\n          termBegin: this.plan.term1Begin,\n          termEnd: this.plan.term1End,\n          days: [],\n        },\n        {\n          termBegin: this.plan.term2Begin,\n          termEnd: this.plan.term2End,\n          days: [],\n        },\n      ];\n\n      for (let i = 0; i < 2; i++) {\n        for (\n          let d = new Date(rtr[i].termBegin);\n          d <= rtr[i].termEnd;\n          d.setDate(d.getDate() + 1)\n        ) {\n          // not on weekend\n          if (d.getDay() == 0 || d.getDay() == 6) continue;\n          // not in holiday\n          if (\n            this.plan.holidays.some((h) =>\n              DateUtils.isDateBetween(d, h[0], h[1])\n            )\n          )\n            continue;\n\n          const day = {\n            date: new Date(d),\n            entries: this.plan.entries.get(DateUtils.toNormalString(d)) || [],\n          };\n          rtr[i].days.push(day);\n        }\n      }\n\n      return rtr;\n    },\n  },\n  // watch: {\n  //   terms: {\n  //     handler() {\n  //       this.updateStorage();\n  //     },\n  //   },\n  // },\n  mounted() {\n    this.fetchSavedBoard();\n  },\n};\n</script>\n\n<style>\n.gradient-out {\n  mix-blend-mode: hard-light;\n}\n\n.gradient-out::after {\n  position: absolute;\n  content: \"\";\n  left: 0px;\n  top: 0px;\n  height: 100%;\n  width: 100%;\n  background: linear-gradient(transparent, gray);\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Noteboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Noteboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Noteboard.vue?vue&type=template&id=730b28aa&\"\nimport script from \"./Noteboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Noteboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Noteboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VLazy } from 'vuetify/lib/components/VLazy';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBtn,VCardText,VCol,VContainer,VLazy,VList,VListItem,VResponsive,VRow,VSkeletonLoader,VSpacer,VSubheader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-btn',{staticClass:\"mr-6\",attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.import.click()}}},[_vm._v(\"Importieren\")]),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"import\",attrs:{\"id\":\"courselist-file\",\"type\":\"file\"},on:{\"change\":_vm.onFileImport}}),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-6\",on:{\"click\":function($event){return _vm.$emit('back')}}},[_vm._v(\"ZurÃ¼ck\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.hasData},on:{\"click\":function($event){return _vm.$emit('next')}}},[_vm._v(\" Weiter \")])],1),_c('v-row',[_c('v-col',{staticClass:\"mt-6\",attrs:{\"cols\":\"12\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.frontList,\"sort-by\":\"class\",\"sort-desc\":true,\"no-data-text\":\"Bitte importieren Sie die Kursliste\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import papaparse from 'papaparse';\n\nlet CSVUtils = {\n  // return: a Map object <grade as string => Map<course identifer as\n  // string => entries as Array of Object>>. \n  toGradeLists(file, vm) {\n    const onComplete = (res) => {\n      // console.log(res);\n      const map = new Map();\n\n      for (let line of res.data) {\n        if (line[1] && line[1].includes(\"EF\"))\n          line[1] = \"EF\";\n\n        // make line into object\n        line = {\n          class: line[1],\n          teacher: line[2],\n          subject: line[3],\n          day: line[5],\n          hour: line[6]\n        }\n\n        // if the grade exists\n        if (map.has(line.class)) {\n          let grade = map.get(line.class);\n          // if the course exists in the grade/class\n          if (grade.has(line.subject) && !JSON.stringify(grade.get(line.subject)).includes(JSON.stringify(line))) {\n            grade.get(line.subject).push(line);\n            // otherwise, new course in the grade/class\n          } else {\n            grade.set(line.subject, [line]);\n          }\n        }\n        // otherwise, new grade with new course\n        else {\n          map.set(line.class, new Map());\n          map.get(line.class).set(line.subject, [line]);\n        }\n      }\n\n      const courses = [];\n      for (const grade of map) {\n        for (const cls of grade[1]) {\n          let days = [];\n          for (const entry of cls[1]) {\n            // find index of existing day\n            let index = -1;\n            for (let i = 0; i < days.length; i++) {\n              const day = days[i][0];\n              if (day == entry.day)\n                index = i;\n            }\n\n            if (index >= 0) {\n              if (Number.parseInt(entry.hour) == 8) {\n                if (days[index][1] == \"u\")\n                  days[index][1] = \"\";\n              }\n              else if (Number.parseInt(entry.hour) == 9) {\n                if (days[index][1] == \"g\")\n                  days[index][1] = \"\";\n              }\n            }\n            else {\n              if (Number.parseInt(entry.hour) == 8)\n                days.push([entry.day, \"g\"]);\n              else if (Number.parseInt(entry.hour) == 9)\n                days.push([entry.day, \"u\"]);\n              else days.push([entry.day, \"\"]);\n            }\n          }\n          const currentCourse = {\n            class: cls[1][0].class,\n            teacher: cls[1][0].teacher,\n            subject: cls[1][0].subject,\n            days: days,\n          };\n          if (currentCourse.subject)\n            courses.push(currentCourse);\n        }\n      }\n\n      vm.list = map;\n      vm.condensedList = courses;\n    }\n    const onError = (err) => {\n      console.error(err);\n      vm.hasData = false;\n    }\n    papaparse.parse(file, { complete: onComplete, error: onError })\n  }\n}\n\nexport default CSVUtils;\n","<template >\n  <v-container>\n    <v-row>\n      <v-btn class=\"mr-6\" @click=\"$refs.import.click()\" color=\"primary\"\n        >Importieren</v-btn\n      >\n      <input\n        id=\"courselist-file\"\n        v-show=\"false\"\n        ref=\"import\"\n        type=\"file\"\n        @change=\"onFileImport\"\n      />\n      <v-spacer></v-spacer>\n      <v-btn class=\"mr-6\" @click=\"$emit('back')\">ZurÃ¼ck</v-btn>\n      <v-btn @click=\"$emit('next')\" color=\"primary\" :disabled=\"!hasData\">\n        Weiter\n      </v-btn>\n    </v-row>\n\n    <v-row>\n      <v-col cols=\"12\" class=\"mt-6\">\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"frontList\"\n          sort-by=\"class\"\n          :sort-desc=\"true\"\n          no-data-text=\"Bitte importieren Sie die Kursliste\"\n        ></v-data-table>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport CSVUtils from \"@/logic/CSVUtils.js\";\n\nexport default {\n  name: \"Courselist\",\n  data() {\n    return {\n      hasData: false,\n      list: new Map(),\n      condensedList: [],\n      headers: [\n        { text: \"Stufe\", value: \"class\", align: \"start\" },\n        { text: \"Fach\", value: \"subject\" },\n        { text: \"Lehrer|In\", value: \"teacher\" },\n        { text: \"Wochentage\", value: \"days\" },\n      ],\n      frontList: [],\n    };\n  },\n  methods: {\n    async onFileImport() {\n      let file = this.$refs.import.files[0];\n      if (file) {\n        CSVUtils.toGradeLists(file, this);\n        this.hasData = true;\n      }\n      // must play with dom to remove the pending file\n      document.getElementById(\"courselist-file\").value = \"\";\n    },\n    fetchList() {\n      const hasData = sessionStorage.getItem(\"kht.courselist.hasData\");\n      if (hasData !== \"true\") {\n        this.hasData = false;\n        return;\n      }\n\n      const res = sessionStorage.getItem(\"kht.courselist\");\n      if (res) {\n        this.condensedList = JSON.parse(res);\n        this.hasData=true;\n      }\n    },\n    updateStorage() {\n      sessionStorage.setItem(\"kht.courselist.hasData\", this.hasData);\n      sessionStorage.setItem(\n        \"kht.courselist\",\n        JSON.stringify(this.condensedList)\n      );\n    },\n  },\n  watch: {\n    condensedList() {\n      console.log(\"list changed\");\n      this.condensedList.forEach((course) => {\n        let copy = JSON.parse(JSON.stringify(course));\n        copy.days = copy.days.map(\n          (arr) =>\n            `${arr[0]}${arr[1] == \"\" ? \"\" : \" (\"}${arr[1] == \"\" ? \"\" : arr[1]}${\n              arr[1] == \"\" ? \"\" : \")\"\n            }`\n        );\n        copy.days = copy.days.join(\", \");\n        this.frontList.push(copy);\n      });\n      this.updateStorage();\n    },\n  },\n  mounted() {\n    this.fetchList();\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courselist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Courselist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Courselist.vue?vue&type=template&id=54ec7ec8&\"\nimport script from \"./Courselist.vue?vue&type=script&lang=js&\"\nexport * from \"./Courselist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VDataTable,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-dialog',{attrs:{\"max-width\":\"700px\",\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-6\",attrs:{\"color\":\"primary\",\"disabled\":_vm.progress > 0 && _vm.progress < 100}},'v-btn',attrs,false),on),[_vm._v(\"Kurshefte generieren\")])]}},{key:\"default\",fn:function(dialogResult){return [_c('v-card',[_c('v-card-title',[_vm._v(\" Kurshefte Generieren \")]),_c('v-container',{staticClass:\"pl-8 mt-4\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"pb-1 px-6\",attrs:{\"align\":\"center\"}},[_c('v-select',{attrs:{\"items\":_vm.allowedGrades,\"rules\":[_vm.gradesToExport.length > 0 || 'Erforderlich'],\"label\":\"Stufen zum Exportieren\",\"multiple\":\"\"},on:{\"change\":_vm.onGradesChange},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip',{staticStyle:{\"height\":\"30px\"}},[_c('span',[_vm._v(_vm._s(item))])])]}}],null,true),model:{value:(_vm.gradesToExport),callback:function ($$v) {_vm.gradesToExport=$$v},expression:\"gradesToExport\"}})],1)],1),_c('v-card-actions',{staticClass:\"pr-6 pl-10 pb-6 pt-4\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":_vm.gradesToExport.length == 0},on:{\"click\":function($event){return _vm.onGenerate(dialogResult)}}},[_vm._v(\"BestÃ¤tigen\")]),_c('div',{staticClass:\"px-2\"}),_c('v-btn',{on:{\"click\":function($event){dialogResult.value = false}}},[_vm._v(\"Abbrechen\")])],1)],1)]}}])}),_c('v-btn',{attrs:{\"disabled\":_vm.progress < 0 || _vm.res == null},on:{\"click\":_vm.onRedownload}},[_vm._v(\"Herunterladen\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-6\",attrs:{\"disabled\":_vm.progress >= 0 && _vm.progress < 100},on:{\"click\":function($event){return _vm.$emit('back')}}},[_vm._v(\"ZurÃ¼ck\")])],1),_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-col',{staticClass:\"mt-12\",attrs:{\"cols\":\"10\"}},[_c('v-progress-linear',{attrs:{\"value\":_vm.progress,\"height\":\"25\",\"color\":_vm.progress >= 0 ? 'light-blue' : 'grey',\"striped\":\"\"}},[_c('strong',{staticClass:\"grey--text\",class:{ 'text--darken-4': _vm.progress >= 0 }},[_vm._v(_vm._s(_vm.progressDisplay))])])],1)],1),_c('v-row',{staticClass:\"mt-6\",attrs:{\"justify\":\"space-around\"}},[_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Zusammenfassung \")]),_c('v-card-text',[_c('p',[_vm._v(\" Zu exportierende Kurse: \"+_vm._s(_vm.progress >= 0 ? (_vm.exportCount + \"/\" + _vm.toExport) : \"N/A\")+\" \")]),_c('p',[_vm._v(\" Stufen: \"+_vm._s(_vm.progress >= 0 ? _vm.gradesToExport.join(\", \") : \"N/A\")+\" \")]),_c('v-container',{attrs:{\"fluid\":\"\"}},_vm._l((_vm.dates),function(t,i){return _c('v-row',{key:i},[_c('v-col',{staticClass:\"pa-0 my-0 mb-4\",attrs:{\"cols\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.intervalName(i))+\": \")]),_c('v-col',{staticClass:\"pa-0 my-0 mb-4\",attrs:{\"cols\":\"10\"}},[_vm._v(\" \"+_vm._s(_vm.dateUtils.toGermanDateFormat(t.start))+\" - \"+_vm._s(_vm.dateUtils.toGermanDateFormat(t.end)))])],1)}),1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-unused-vars */\nconst blobStream = require(\"blob-stream\");\n\nconst WIDTH = 595.28;\nconst HEIGHT = 841.89;\n\nconst DAY_MILI = 24 * 60 * 60 * 1000;\n\nfunction _xPercentToPx(percent) {\n  if (!percent || percent < 0 || percent > 100)\n    return 0;\n  return percent / 100.0 * WIDTH;\n}\n\nfunction _yPercentToPx(percent) {\n  if (!percent || percent < 0 || percent > 100)\n    return 0;\n  return percent / 100.0 * HEIGHT;\n}\n\n// row: [{day:String, date:String, note:String},{...},...]\nfunction _getRows(plan, course) {\n  const getWeekNo = (date) => {\n    // Copy date so don't modify original\n    date = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n    const originYear = date.getFullYear();\n    // Set to nearest Thursday: current date + 4 - current day number\n    // Make Sunday's day number 7\n    date.setUTCDate(date.getUTCDate() + 4 - (date.getUTCDay() || 7));\n    // Get first day of year\n    const yearStart = new Date(Date.UTC(date.getUTCFullYear(), 0, 1));\n    // Calculate full weeks to nearest Thursday\n    const weekNo = Math.ceil((((date - yearStart) / 86400000) + 1) / 7);\n    // Return array of year and week number\n    if (date.getUTCFullYear() < originYear) return 1;\n    else return weekNo;\n  }\n\n  // test if it is the right weekday and not in a holiday\n  const hasCourseOn = (date) => {\n    // not in holiday\n    for (const h of plan.holidays) {\n      if (_isDateBetween(date, h[0], h[1])) return false;\n    }\n    // check weekday\n    for (const entry of course.days) {\n      if (entry[0] == date.getDay()) {\n        if (entry[1] === \"g\" && getWeekNo(date) % 2 != 0) {\n          return false;\n        }\n        else if (entry[1] === \"u\" && getWeekNo(date) % 2 != 1) {\n          return false;\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n\n  const getAllNotes = (allNotes) => {\n    let res = \"\";\n    for (const note of allNotes) {\n      if (note.grades.includes(course.class) || note.grades.includes(\"Alle\"))\n        res += `${note.content}; `;\n    }\n    return res;\n  }\n\n  const compareGermanDateString = (a, b) => {\n    const ac = a.split(\".\").map(i => Number.parseInt(i));\n    const bc = b.split(\".\").map(i => Number.parseInt(i));\n\n    return new Date(ac[2], ac[1] - 1, ac[0]) - new Date(bc[2], bc[1] - 1, bc[0]);\n  }\n\n  const res = [];\n\n  // add holiday notices\n  for (const h of plan.holidays) {\n    res.push({\n      day: h[0].toLocaleDateString(\"de-de\", {\n        weekday: \"short\"\n      }),\n      date: _getPointDateString(h[0]),\n      note: `Ferien bis ${_getPointDateString(h[1])}`\n    })\n  }\n\n  for (let d = new Date(plan.term1Begin); d <= plan.term1End; d.setDate(d.getDate() + 1)) {\n    if (hasCourseOn(d)) {\n      res.push({\n        day: d.toLocaleDateString(\"de-de\", {\n          weekday: \"short\"\n        }),\n        date: _getPointDateString(d),\n        note: getAllNotes(plan.entries.get(_toNormalString(d)) || \"\")\n      })\n    }\n  }\n\n  for (let d = new Date(plan.term2Begin); d <= plan.term2End; d.setDate(d.getDate() + 1)) {\n    if (hasCourseOn(d)) {\n      res.push({\n        day: d.toLocaleDateString(\"de-de\", {\n          weekday: \"short\"\n        }),\n        date: _getPointDateString(d),\n        note: getAllNotes(plan.entries.get(_toNormalString(d)) || \"\")\n      })\n    }\n  }\n\n  res.sort((a, b) => compareGermanDateString(a.date, b.date));\n\n  return res;\n}\n\nfunction _getHalfYear(date) {\n  if (date.getMonth() > 5) return 1;\n  else return 2;\n}\n\nfunction _getTitleYear(date) {\n  const year = date.getFullYear();\n  if (_getHalfYear(date) == 1)\n    return `${year}/${year + 1}`;\n  else\n    return `${year - 1}/${year}`;\n}\n\nfunction _toNormalString(date) {\n  return `${date.getFullYear()}-${date.getMonth() < 9 ? \"0\" : \"\"}${date.getMonth() + 1}-${date.getDate() < 10 ? \"0\" : \"\"}${date.getDate()}`\n}\n\nfunction _isDateBetween(date, from, to) {\n  return date.getFullYear() >= from.getFullYear() &&\n    date.getMonth() >= from.getMonth() && date.getDate() >= from.getDate() &&\n    date.getFullYear() <= to.getFullYear() && date.getMonth() <= to.getMonth() &&\n    date.getDate() <= to.getDate();\n}\n\n// return: [\"Jahrgangstufe Q1.2 ..\",\"Sollstunde ...\"]\nfunction _getTitle(plan, course) {\n  const res = [];\n\n  const grades = [\"EF\", \"Q1\", \"Q2\"].includes(course.class) ?\n    course.class :\n    course.class.substring(0, course.class.length - 1).replace(/^0+/, '');\n\n  res.push(`Jahrgangstufe ${grades}.${_getHalfYear(plan.term1Begin)}    ${_getHalfYear(plan.term1Begin)}. Halbjahr ${_getTitleYear(plan.term1Begin)}`);\n\n  res.push(`Sollstunde fÃ¼r Kurs  ${course.subject}-${course.teacher}-${course.class}`);\n\n  return res;\n}\n\nfunction _getPointDateString(date) {\n  return `${date.getDate() < 10 ? \"0\" : \"\"}${date.getDate()}.${date.getMonth() < 9 ? \"0\" : \"\"}${date.getMonth() + 1}.${date.getFullYear()}`;\n}\n\n\nconst X_MARGIN = _xPercentToPx(4);\nconst X_CONTENT_WIDTH = _xPercentToPx(43);\nconst X_MIDDLE = _xPercentToPx(100) - X_MARGIN * 2 - X_CONTENT_WIDTH * 2;\nconst X_DAY_WIDTH = 0.1 * X_CONTENT_WIDTH;\nconst X_DATE_WIDTH = 0.2 * X_CONTENT_WIDTH;\n// const X_NOTE_WIDTH = X_CONTENT_WIDTH - X_DAY_WIDTH - X_DATE_WIDTH;\n\nconst Y_MARGIN = _yPercentToPx(1.5);\nconst Y_BOX_HEIGHT = _yPercentToPx(1.25);\nconst Y_BOX_OFFSET = _yPercentToPx(0.3);\n\nconst COLOR1 = \"#d2d2d2\";\nconst COLOR2 = \"#e6e6e6\";\nconst COLORS = [COLOR1, COLOR2];\nconst BLACK = \"#0\"\n\nconst MAX_ROW = 65;\n\nconst HEADER = [\"Tag\", \"Datum\", \"Besonderheiten\"]\n\nconst HINWEIS = \"Alle Termine dieser Liste mÃ¼ssen in der Kursmappe eingetragen sein, auch die unterrichtsfreien Tage. Alle Termine (auÃŸer den Ferien) mÃ¼ssen durch ihre Paraphe bestÃ¤tigt werden. Tragen Sie bitte auch die Fehlstundenzahl sowie die Soll - Ist - Stunden (Kursheft S.5) ein. \\nHinweis: SchÃ¼ler, die aus schulischen GrÃ¼nden den Unterricht versÃ¤umt haben (Klausur, schul.Veranstaltung usw.) mÃ¼ssen im Kursheft aufgefÃ¼hrt werden. Diese Stunden dÃ¼rfen auf dem Zeugnis aber nicht als Fehlstunden vermerkt werden.\"\n\n\n// https://stackoverflow.com/questions/35725594/how-do-i-pass-data-like-a-user-id-to-a-web-worker-for-fetching-additional-push\n// Consider Service Worker\n/* eslint-disable no-undef */\nlet PDFUtils = {\n  // eslint-disable-next-line no-unused-vars\n  async create(plan, courses, onIncrement, onFinish) {\n\n    // Create the document\n    const output = new PDFDocument({ autoFirstPage: false, size: \"A4\" });\n    const stream = output.pipe(blobStream());\n\n    // General information\n    const courseTerms = [`${_getPointDateString(plan.term1Begin)} - ${_getPointDateString(plan.term1End)}`,\n    `${_getPointDateString(plan.term2Begin)} - ${_getPointDateString(plan.term2End)}`];\n\n\n    // Loop through all exports\n    for (const course of courses) {\n      output.addPage({ margin: 0, size: \"A4\" });\n      const row = _getRows(plan, course);\n      const title = _getTitle(plan, course);\n\n      if (row.length > MAX_ROW)\n        console.warn(`Maximal row limitation ${MAX_ROW} exceeded. Actual: ${row.length}.`);\n\n      for (let col = 0; col < 2; col++) {\n        let xInitial = col == 0\n          ? X_MARGIN :\n          X_MARGIN + X_CONTENT_WIDTH + X_MIDDLE;\n\n        let xPointer = xInitial;\n        let yPointer = Y_MARGIN;\n\n        // HEAD\n        output.font(\"Times-Bold\").fontSize(14).text(title[0], xPointer, yPointer);\n        yPointer += _yPercentToPx(2.2);\n        output.text(title[1], xPointer, yPointer);\n        yPointer += _yPercentToPx(2.8);\n\n        // MAIN TITLE\n        output.fontSize(10);\n        output.text(HEADER[0], xPointer, yPointer);\n        xPointer += X_DAY_WIDTH;\n        output.text(HEADER[1], xPointer, yPointer);\n        xPointer += X_DATE_WIDTH;\n        output.text(HEADER[2], xPointer, yPointer);\n        xPointer = xInitial;\n        yPointer += Y_BOX_HEIGHT + Y_BOX_OFFSET * 2;\n\n        // MAIN\n        output.fontSize(8);\n        output.font(\"Times-Roman\");\n        for (let i = 0; i < row.length; i++) {\n          const r = row[i];\n          output\n            .rect(xPointer, yPointer - Y_BOX_OFFSET, X_CONTENT_WIDTH, Y_BOX_HEIGHT)\n            .fill(COLORS[i % 2]);\n          output.fillColor(BLACK).text(r.day, xPointer, yPointer);\n          xPointer += X_DAY_WIDTH;\n          output.text(r.date, xPointer, yPointer);\n          xPointer += X_DATE_WIDTH;\n          output.text(r.note, xPointer, yPointer);\n          xPointer = xInitial;\n          yPointer += Y_BOX_HEIGHT;\n        }\n\n        // FOOTER \n        if (col == 0) {\n          yPointer += Y_BOX_HEIGHT * 0.3;\n          output.text(`1. Kursabschnitt: ${courseTerms[0]}`, xPointer, yPointer);\n          yPointer += Y_BOX_HEIGHT;\n          output.text(`2. Kursabschnitt: ${courseTerms[1]}`, xPointer, yPointer);\n\n          yPointer += Y_BOX_HEIGHT * 1.1;\n          output.fontSize(7);\n          output.text(HINWEIS, xPointer, yPointer,\n            {\n              width: X_CONTENT_WIDTH,\n              height: HEIGHT - yPointer,\n              align: \"justify\"\n            });\n        }\n      }\n\n      onIncrement();\n      // TODO: service worker to enable multi threading\n      await new Promise(r => setTimeout(r, 25));\n    }\n\n\n    // end the write stream\n    output.end();\n\n    // pass the pdf as blob to the callback \n    stream.on(\"finish\", function () {\n      onFinish(stream.toBlob('application/pdf'));\n    })\n  },\n}\n\nexport default PDFUtils;\n","<template>\n  <v-container>\n    <v-row>\n      <v-dialog max-width=\"700px\" persistent>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            class=\"mr-6\"\n            color=\"primary\"\n            v-on=\"on\"\n            v-bind=\"attrs\"\n            :disabled=\"progress > 0 && progress < 100\"\n            >Kurshefte generieren</v-btn\n          >\n        </template>\n        <template v-slot:default=\"dialogResult\">\n          <v-card>\n            <v-card-title> Kurshefte Generieren </v-card-title>\n            <v-container class=\"pl-8 mt-4\" fluid>\n              <v-row class=\"pb-1 px-6\" align=\"center\">\n                <v-select\n                  v-model=\"gradesToExport\"\n                  :items=\"allowedGrades\"\n                  @change=\"onGradesChange\"\n                  :rules=\"[gradesToExport.length > 0 || 'Erforderlich']\"\n                  label=\"Stufen zum Exportieren\"\n                  multiple\n                >\n                  <template v-slot:selection=\"{ item }\">\n                    <v-chip style=\"height: 30px\"\n                      ><span>{{ item }}</span></v-chip\n                    >\n                  </template>\n                </v-select>\n              </v-row>\n            </v-container>\n            <v-card-actions class=\"pr-6 pl-10 pb-6 pt-4\">\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"primary\"\n                @click=\"onGenerate(dialogResult)\"\n                :disabled=\"gradesToExport.length == 0\"\n                >BestÃ¤tigen</v-btn\n              >\n              <div class=\"px-2\"></div>\n              <v-btn @click=\"dialogResult.value = false\">Abbrechen</v-btn>\n            </v-card-actions>\n          </v-card>\n        </template>\n      </v-dialog>\n      <v-btn @click=\"onRedownload\" :disabled=\"progress < 0 || res == null\"\n        >Herunterladen</v-btn\n      >\n      <v-spacer></v-spacer>\n      <v-btn\n        class=\"mr-6\"\n        @click=\"$emit('back')\"\n        :disabled=\"progress >= 0 && progress < 100\"\n        >ZurÃ¼ck</v-btn\n      >\n    </v-row>\n\n    <v-row justify=\"space-around\">\n      <v-col cols=\"10\" class=\"mt-12\">\n        <v-progress-linear\n          :value=\"progress\"\n          height=\"25\"\n          :color=\"progress >= 0 ? 'light-blue' : 'grey'\"\n          striped\n        >\n          <strong\n            class=\"grey--text\"\n            :class=\"{ 'text--darken-4': progress >= 0 }\"\n            >{{ progressDisplay }}</strong\n          >\n        </v-progress-linear>\n      </v-col>\n    </v-row>\n    <v-row justify=\"space-around\" class=\"mt-6\">\n      <v-col cols=\"10\">\n        <v-card>\n          <v-card-title> Zusammenfassung </v-card-title>\n          <v-card-text>\n            <p>\n              Zu exportierende Kurse:\n              {{ progress >= 0 ? `${exportCount}/${toExport}` : \"N/A\" }}\n            </p>\n            <p>\n              Stufen: {{ progress >= 0 ? gradesToExport.join(\", \") : \"N/A\" }}\n            </p>\n            <v-container fluid>\n              <v-row v-for=\"(t, i) in dates\" :key=\"i\">\n                <v-col cols=\"2\" class=\"pa-0 my-0 mb-4\">\n                  {{ intervalName(i) }}:\n                </v-col>\n                <v-col cols=\"10\" class=\"pa-0 my-0 mb-4\">\n                  {{ dateUtils.toGermanDateFormat(t.start) }} -\n                  {{ dateUtils.toGermanDateFormat(t.end) }}</v-col\n                >\n              </v-row>\n            </v-container>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport DateUtils from \"@/logic/DateUtils.js\";\nimport { Plan } from \"@/models/Plan\";\nimport PDFUtils from \"@/logic/PDFUtils.js\";\n\nexport default {\n  name: \"BookExport\",\n  props: {\n    allowedGrades: {\n      default() {\n        return [\"Alle\", \"EF\", \"Q1\", \"Q2\"];\n      },\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      dateUtils: DateUtils,\n      progress: -1,\n      prevGrades: [],\n      gradesToExport: [],\n      plan: null,\n      courselist: [],\n      res: null,\n      exportCount: 0,\n      toExport: 0,\n    };\n  },\n  methods: {\n    onGradesChange() {\n      if (\n        !this.prevGrades.includes(\"Alle\") &&\n        this.gradesToExport.includes(\"Alle\")\n      )\n        this.gradesToExport = [\"Alle\"];\n      else if (\n        this.prevGrades.includes(\"Alle\") &&\n        this.gradesToExport.length > 0\n      )\n        this.gradesToExport = this.gradesToExport.filter((g) => g != \"Alle\");\n\n      this.prevGrades = JSON.parse(JSON.stringify(this.gradesToExport));\n    },\n    async onGenerate(dialogResult) {\n      dialogResult.value = false;\n      window.URL.revokeObjectURL(this.res);\n      this.res = null;\n\n      const grades =\n        this.gradesToExport == \"Alle\"\n          ? this.allowedGrades\n          : this.gradesToExport;\n\n      const coursesToExport = this.courselist.filter((c) =>\n        grades.includes(c.class)\n      );\n      this.exportCount = 0;\n      this.toExport = coursesToExport.length;\n\n      PDFUtils.create(\n        this.plan,\n        coursesToExport,\n        () => {\n          this.exportCount++;\n          this.progress = (this.exportCount / this.toExport) * 100;\n        },\n        (blob) => {\n          const filename = `merged-${this.gradesToExport.join(\"-\")}`;\n          this.res = window.URL.createObjectURL(blob);\n\n          if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveBlob(blob, filename);\n          } else {\n            this.triggerDownload(filename, this.res);\n          }\n        }\n      );\n    },\n    triggerDownload(filename, objectURL) {\n      const elem = window.document.createElement(\"a\");\n      elem.href = objectURL;\n      elem.download = filename;\n      elem.style.display = \"none\";\n      document.body.appendChild(elem);\n      elem.click();\n      document.body.removeChild(elem);\n    },\n    onRedownload() {\n      this.triggerDownload(`merged-${this.gradesToExport.join(\"-\")}`, this.res);\n    },\n    fetchData() {\n      // try to fetch the course list\n      {\n        const hasData = sessionStorage.getItem(\"kht.courselist.hasData\");\n        if (hasData !== \"true\") {\n          console.error(\"No data for courselist found\");\n          return;\n        }\n\n        const res = sessionStorage.getItem(\"kht.courselist\");\n        if (res) {\n          this.courselist = JSON.parse(res);\n        }\n      }\n\n      // try to fetch the noteboard\n      {\n        const hasData = localStorage.getItem(\"kht.noteboard.hasData\");\n        if (hasData !== \"true\") {\n          console.error(\"No data for noteboard found\");\n          return;\n        }\n\n        const res = localStorage.getItem(\"kht.noteboard\");\n        if (res !== null) {\n          const data = JSON.parse(res);\n          this.plan = Plan.fromJSON(data);\n\n          this.hasData = true;\n        }\n      }\n    },\n    intervalName(i) {\n      return i < 2 ? `${i + 1}. Abschnitt` : `${i - 1}. Ferienphase`;\n    },\n  },\n  computed: {\n    progressDisplay() {\n      return this.progress < 0\n        ? '\"Kurshefte Generieren\" Klicken'\n        : Math.ceil(this.progress);\n    },\n    dates() {\n      if (!this.plan) return null;\n\n      const res = [\n        {\n          start: this.plan.term1Begin,\n          end: this.plan.term1End,\n        },\n        {\n          start: this.plan.term2Begin,\n          end: this.plan.term2End,\n        },\n      ];\n\n      for (let i = 0; i < this.plan.holidays.length; i++) {\n        const e = this.plan.holidays[i];\n        res.push({\n          start: e[0],\n          end: e[1],\n        });\n      }\n      return res;\n    },\n  },\n  mounted() {\n    this.fetchData();\n    this.gradesToExport = [\"Alle\"];\n    this.prevGrades = [\"Alle\"];\n  },\n};\n</script>\n\n<style >\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookExport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookExport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookExport.vue?vue&type=template&id=2c7c78e8&\"\nimport script from \"./BookExport.vue?vue&type=script&lang=js&\"\nexport * from \"./BookExport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VContainer,VDialog,VProgressLinear,VRow,VSelect,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-stepper',{model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.step > 1,\"step\":\"1\",\"color\":_vm.step > 1 ? 'grey' : 'primary'}},[_vm._v(\" Bemerkungsbogen ausfÃ¼llen \")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"complete\":_vm.step > 2,\"step\":\"2\",\"color\":_vm.step > 2 ? 'grey' : 'primary'}},[_vm._v(\" Kursliste importieren \")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"complete\":_vm.step > 3,\"step\":\"3\",\"color\":_vm.step > 3 ? 'grey' : 'primary'}},[_vm._v(\" Kurshefte generieren \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\n  <v-stepper v-model=\"step\">\n    <v-stepper-header>\n      <v-stepper-step\n        :complete=\"step > 1\"\n        step=\"1\"\n        :color=\"step > 1 ? 'grey' : 'primary'\"\n      >\n        Bemerkungsbogen ausfÃ¼llen\n      </v-stepper-step>\n      <v-divider></v-divider>\n      <v-stepper-step\n        :complete=\"step > 2\"\n        step=\"2\"\n        :color=\"step > 2 ? 'grey' : 'primary'\"\n      >\n        Kursliste importieren\n      </v-stepper-step>\n      <v-divider></v-divider>\n      <v-stepper-step\n        :complete=\"step > 3\"\n        step=\"3\"\n        :color=\"step > 3 ? 'grey' : 'primary'\"\n      >\n        Kurshefte generieren\n      </v-stepper-step>\n    </v-stepper-header>\n  </v-stepper>\n</template>\n\n<script>\nexport default {\n  name: \"Steps\",\n  props: {\n    step: Number,\n  },\n  data() {\n    return {};\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Steps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Steps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Steps.vue?vue&type=template&id=0c4dd075&\"\nimport script from \"./Steps.vue?vue&type=script&lang=js&\"\nexport * from \"./Steps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperHeader } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\ninstallComponents(component, {VDivider,VStepper,VStepperHeader,VStepperStep})\n","<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row justify=\"center\">\n          <v-col cols=\"12\">\n            <Steps :step=\"step\" />\n          </v-col>\n        </v-row>\n        <v-row justify=\"center\">\n          <v-col cols=\"12\">\n            <!-- <transition name=\"fade-transition\" :duration=\"{ enter: 500, leave: 500 }\"> -->\n              <component\n                :allowedGrades=\"allowedGrades\"\n                :is=\"pages[step - 1]\"\n                @back=\"step == 1 ? (step = 3) : step--\"\n                @next=\"step == 3 ? (step = 1) : step++\"\n              ></component>\n            <!-- </transition> -->\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport Noteboard from \"./components/Noteboard.vue\";\nimport Courselist from \"./components/Courselist.vue\";\nimport BookExport from \"./components/BookExport.vue\";\nimport Steps from \"./components/Steps.vue\";\n\nexport default {\n  name: \"App\",\n\n  components: {\n    Noteboard,\n    Steps,\n    Courselist,\n    BookExport,\n  },\n\n  data: () => ({\n    step: 1,\n    pages: [\"Noteboard\", \"Courselist\", \"BookExport\"],\n    allowedGrades: [\"Alle\", \"EF\", \"Q1\", \"Q2\"],\n  }),\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6bf3f7d3&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VApp,VCol,VContainer,VMain,VRow})\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nimport de from 'vuetify/lib/locale/de';\n\nexport default new Vuetify({\n  lang: {\n    locales: { de },\n    current: 'de',\n  },\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Noteboard.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}